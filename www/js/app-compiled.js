var g,l=this;function m(a){return void 0!==a}function ba(){}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function p(a){return"array"==ca(a)}function da(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function ea(a){return"number"==typeof a}function fa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ka(a,b,c){ka=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return ka.apply(null,arguments)}
function la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ma=Date.now||function(){return+new Date};function r(a,b){function c(){}c.prototype=b.prototype;a.m=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Fb=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};var na;var oa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function pa(a){if(!qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ua,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(va,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(wa,"&#0;"));return a}var ra=/&/g,sa=/</g,ta=/>/g,ua=/"/g,va=/'/g,wa=/\x00/g,qa=/[\x00&<>"']/;
function xa(a,b){return a<b?-1:a>b?1:0};function ya(a,b,c){for(var d in a)b.call(c,a[d],d,a)}var za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<za.length;f++)c=za[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ba=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ca=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Da=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=q(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var n=h[k];b.call(c,n,k,a)&&(e[f++]=n)}return e};function Ea(a,b){var c=Ba(a,b),d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d}function Fa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};function t(a,b){this.x=m(a)?a:0;this.y=m(b)?b:0}g=t.prototype;g.clone=function(){return new t(this.x,this.y)};g.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};g.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};g.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};g.translate=function(a,b){a instanceof t?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),ea(b)&&(this.y+=b));return this};
g.scale=function(a,b){var c=ea(b)?b:a;this.x*=a;this.y*=c;return this};var Ga;a:{var Ha=l.navigator;if(Ha){var Ia=Ha.userAgent;if(Ia){Ga=Ia;break a}}Ga=""}function u(a){return-1!=Ga.indexOf(a)};var Ja=u("Opera")||u("OPR"),v=u("Trident")||u("MSIE"),Ka=u("Edge"),La=u("Gecko")&&!(-1!=Ga.toLowerCase().indexOf("webkit")&&!u("Edge"))&&!(u("Trident")||u("MSIE"))&&!u("Edge"),w=-1!=Ga.toLowerCase().indexOf("webkit")&&!u("Edge"),Ma=u("Macintosh");function Na(){var a=l.document;return a?a.documentMode:void 0}var Oa;
a:{var Pa="",Qa=function(){var a=Ga;if(La)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Ka)return/Edge\/([\d\.]+)/.exec(a);if(v)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(w)return/WebKit\/(\S+)/.exec(a);if(Ja)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Qa&&(Pa=Qa?Qa[1]:"");if(v){var Ra=Na();if(null!=Ra&&Ra>parseFloat(Pa)){Oa=String(Ra);break a}}Oa=Pa}var Sa={};
function x(a){var b;if(!(b=Sa[a])){b=0;for(var c=oa(String(Oa)).split("."),d=oa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"",n=RegExp("(\\d*)(\\D*)","g"),A=RegExp("(\\d*)(\\D*)","g");do{var E=n.exec(h)||["","",""],aa=A.exec(k)||["","",""];if(0==E[0].length&&0==aa[0].length)break;b=xa(0==E[1].length?0:parseInt(E[1],10),0==aa[1].length?0:parseInt(aa[1],10))||xa(0==E[2].length,0==aa[2].length)||xa(E[2],aa[2])}while(0==b)}b=Sa[a]=0<=b}return b}
var Ta=l.document,Ua=Ta&&v?Na()||("CSS1Compat"==Ta.compatMode?parseInt(Oa,10):5):void 0;function Va(a,b){this.width=a;this.height=b}g=Va.prototype;g.clone=function(){return new Va(this.width,this.height)};g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};g.scale=function(a,b){var c=ea(b)?b:a;this.width*=a;this.height*=c;return this};function Wa(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}g=Wa.prototype;g.clone=function(){return new Wa(this.left,this.top,this.width,this.height)};g.contains=function(a){return a instanceof Wa?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};g.jb=function(){return new Va(this.width,this.height)};
g.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};g.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
g.translate=function(a,b){a instanceof t?(this.left+=a.x,this.top+=a.y):(this.left+=a,ea(b)&&(this.top+=b));return this};g.scale=function(a,b){var c=ea(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function Xa(a){Xa[" "](a);return a}Xa[" "]=ba;function Ya(){this.a=""}Ya.prototype.lb=!0;Ya.prototype.$a=function(){return this.a};function Za(a){var b=new Ya;b.a=a;return b}Za("");function $a(){this.a="";this.b=ab;this.hb=null}$a.prototype.yb=!0;$a.prototype.lb=!0;$a.prototype.$a=function(){return this.a};function bb(a){return a instanceof $a&&a.constructor===$a&&a.b===ab?a.a:"type_error:SafeHtml"}function cb(a){if(a instanceof $a)return a;var b=null;a.yb&&(b=a.hb);a=pa(a.lb?a.$a():String(a));return db(a,b)}var ab={};function db(a,b){var c=new $a;c.a=a;c.hb=b;return c}db("<!DOCTYPE html>",0);var eb=db("",0);db("<br>",0);function fb(a){gb();return db(a,null)}var gb=ba;var hb=!v||9<=Number(Ua),ib=!La&&!v||v&&9<=Number(Ua)||La&&x("1.9.1");v&&x("9");function jb(a){return a?new kb(lb(a)):na||(na=new kb)}function y(a){return q(a)?document.getElementById(a):a}function mb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):nb("*",a,b)}function ob(a,b){var c=b||document,d=null;c.getElementsByClassName?d=c.getElementsByClassName(a)[0]:c.querySelectorAll&&c.querySelector?d=c.querySelector("."+a):d=nb("*",a,b)[0];return d||null}
function nb(a,b,c){var d=document;c=c||d;var e=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(e||b))return c.querySelectorAll(e+(b?"."+b:""));if(b&&c.getElementsByClassName){a=c.getElementsByClassName(b);if(e){c={};for(var f=d=0,h;h=a[f];f++)e==h.nodeName&&(c[d++]=h);c.length=d;return c}return a}a=c.getElementsByTagName(e||"*");if(b){c={};for(f=d=0;h=a[f];f++){var e=h.className,k;if(k="function"==typeof e.split)k=0<=Ba(e.split(/\s+/),b);k&&(c[d++]=h)}c.length=d;return c}return a}
function pb(a,b){ya(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:qb.hasOwnProperty(d)?a.setAttribute(qb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var qb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function rb(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Va(a.clientWidth,a.clientHeight)}function sb(a){return a?tb(a):window}function tb(a){return a.parentWindow||a.defaultView}function z(a,b,c){return ub(document,arguments)}
function ub(a,b){var c=b[0],d=b[1];if(!hb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',pa(d.name),'"');if(d.type){c.push(' type="',pa(d.type),'"');var e={};Aa(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(q(d)?c.className=d:p(d)?c.className=d.join(" "):pb(c,d));2<b.length&&vb(a,c,b,2);return c}
function vb(a,b,c,d){function e(c){c&&b.appendChild(q(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];if(!da(f)||fa(f)&&0<f.nodeType)e(f);else{var h;a:{if(f&&"number"==typeof f.length){if(fa(f)){h="function"==typeof f.item||"string"==typeof f.item;break a}if("function"==ca(f)){h="function"==typeof f.item;break a}}h=!1}Ca(h?Fa(f):f,e)}}}function B(a,b){vb(lb(a),a,arguments,1)}function C(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function wb(a){if(m(a.lastElementChild))a=a.lastElementChild;else for(a=a.lastChild;a&&1!=a.nodeType;)a=a.previousSibling;return a}function lb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function xb(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(lb(a).createTextNode(String(b)))}}function kb(a){this.a=a||l.document||document}kb.prototype.j=function(a){return q(a)?this.a.getElementById(a):a};kb.prototype.b=function(a,b,c){return ub(this.a,arguments)};
function yb(a){var b=a.a;a=b.scrollingElement?b.scrollingElement:w||"CSS1Compat"!=b.compatMode?b.body||b.documentElement:b.documentElement;b=tb(b);return v&&x("10")&&b.pageYOffset!=a.scrollTop?new t(a.scrollLeft,a.scrollTop):new t(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}kb.prototype.c=C;function zb(a){return ib&&void 0!=a.children?a.children:Da(a.childNodes,function(a){return 1==a.nodeType})}
kb.prototype.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function Ab(a,b){var c;a:{c=lb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Bb(a){return Ab(a,"position")}function Cb(a,b,c){var d;b instanceof t?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Db(d,!1);a.style.top=Db(b,!1)}
function Eb(a,b,c){if(b instanceof Va)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=Db(b,!0);a.style.height=Db(c,!0)}function Db(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Fb(a){var b=Gb;if("none"!=Ab(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}
function Gb(a){var b=a.offsetWidth,c=a.offsetHeight,d=w&&!b&&!c;if((!m(b)||d)&&a.getBoundingClientRect){var e;a:{try{e=a.getBoundingClientRect()}catch(f){e={left:0,top:0,right:0,bottom:0};break a}v&&a.ownerDocument.body&&(a=a.ownerDocument,e.left-=a.documentElement.clientLeft+a.body.clientLeft,e.top-=a.documentElement.clientTop+a.body.clientTop)}return new Va(e.right-e.left,e.bottom-e.top)}return new Va(b,c)}
function Hb(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*Number(b)+")")}function D(a,b){a.style.display=b?"":"none"};function F(a,b){this.ha={};this.G=[];this.a=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.va(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof F)for(d=Ib(a),Jb(a),e=[],c=0;c<a.G.length;c++)e.push(a.ha[a.G[c]]);else{var c=[],f=0;for(d in a)c[f++]=d;d=c;c=[];f=0;for(e in a)c[f++]=a[e];e=c}for(c=0;c<d.length;c++)this.va(d[c],e[c])}}function Ib(a){Jb(a);return a.G.concat()}
F.prototype.clear=function(){this.ha={};this.a=this.G.length=0};function Jb(a){if(a.a!=a.G.length){for(var b=0,c=0;b<a.G.length;){var d=a.G[b];Object.prototype.hasOwnProperty.call(a.ha,d)&&(a.G[c++]=d);b++}a.G.length=c}if(a.a!=a.G.length){for(var e={},c=b=0;b<a.G.length;)d=a.G[b],Object.prototype.hasOwnProperty.call(e,d)||(a.G[c++]=d,e[d]=1),b++;a.G.length=c}}function Kb(a,b){return Object.prototype.hasOwnProperty.call(a.ha,b)?a.ha[b]:void 0}
F.prototype.va=function(a,b){Object.prototype.hasOwnProperty.call(this.ha,a)||(this.a++,this.G.push(a));this.ha[a]=b};F.prototype.forEach=function(a,b){for(var c=Ib(this),d=0;d<c.length;d++){var e=c[d];a.call(b,Kb(this,e),e,this)}};F.prototype.clone=function(){return new F(this)};function Lb(){ma()}new Lb;Lb.prototype.reset=function(){ma()};var Mb="closure_listenable_"+(1E6*Math.random()|0);function Nb(a){return!(!a||!a[Mb])}var Ob=0;function Pb(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.Fa=!!d;this.Ma=e;this.key=++Ob;this.qa=this.Ea=!1}function Qb(a){a.qa=!0;a.listener=null;a.a=null;a.src=null;a.Ma=null};function Rb(a){this.src=a;this.a={};this.b=0}Rb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var h=Sb(a,b,d,e);-1<h?(b=a[h],c||(b.Ea=!1)):(b=new Pb(b,this.src,f,!!d,e),b.Ea=c,a.push(b));return b};function Tb(a,b){var c=b.type;c in a.a&&Ea(a.a[c],b)&&(Qb(b),0==a.a[c].length&&(delete a.a[c],a.b--))}function Ub(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=Sb(a,c,d,e));return-1<b?a[b]:null}
function Sb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.qa&&f.listener==b&&f.Fa==!!c&&f.Ma==d)return e}return-1};var Vb=!v||9<=Number(Ua),Wb=!v||9<=Number(Ua),Xb=v&&!x("9");!w||x("528");La&&x("1.9b")||v&&x("8")||Ja&&x("9.5")||w&&x("528");La&&!x("8")||v&&x("9");function Yb(){0!=Zb&&($b[this[ga]||(this[ga]=++ha)]=this);this.v=this.v;this.l=this.l}var Zb=0,$b={};Yb.prototype.v=!1;Yb.prototype.ua=function(){if(!this.v&&(this.v=!0,this.F(),0!=Zb)){var a=this[ga]||(this[ga]=++ha);delete $b[a]}};Yb.prototype.F=function(){if(this.l)for(;this.l.length;)this.l.shift()()};function ac(a){a&&"function"==typeof a.ua&&a.ua()};function G(a,b){this.type=a;this.currentTarget=this.target=b;this.b=!1;this.pb=!0}G.prototype.stopPropagation=function(){this.b=!0};G.prototype.preventDefault=function(){this.pb=!1};function H(a,b){G.call(this,a?a.type:"");this.currentTarget=this.target=null;this.c=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.g=this.f=!1;this.a=this.state=null;if(a){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d&&La)try{Xa(d.nodeName)}catch(e){}null===c?(this.offsetX=w||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=w||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==
a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY);this.c=a.keyCode||0;this.f=a.ctrlKey;this.g=a.shiftKey;this.state=a.state;this.a=a;a.defaultPrevented&&this.preventDefault()}}r(H,G);var bc=[1,4,2];H.prototype.stopPropagation=function(){H.m.stopPropagation.call(this);this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0};
H.prototype.preventDefault=function(){H.m.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Xb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var cc="closure_lm_"+(1E6*Math.random()|0),dc={},ec=0;function I(a,b,c,d,e){if(p(b)){for(var f=0;f<b.length;f++)I(a,b[f],c,d,e);return null}c=fc(c);return Nb(a)?a.L(b,c,d,e):gc(a,b,c,!1,d,e)}
function gc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,k=hc(a);k||(a[cc]=k=new Rb(a));c=k.add(b,c,d,e,f);if(c.a)return c;d=ic();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(jc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");ec++;return c}
function ic(){var a=kc,b=Wb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function lc(a,b,c,d,e){if(p(b))for(var f=0;f<b.length;f++)lc(a,b[f],c,d,e);else c=fc(c),Nb(a)?a.f.add(String(b),c,!0,d,e):gc(a,b,c,!0,d,e)}function J(a,b,c,d,e){if(p(b))for(var f=0;f<b.length;f++)J(a,b[f],c,d,e);else c=fc(c),Nb(a)?a.Oa(b,c,d,e):a&&(a=hc(a))&&(b=Ub(a,b,c,!!d,e))&&mc(b)}
function mc(a){if(!ea(a)&&a&&!a.qa){var b=a.src;if(Nb(b))Tb(b.f,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.Fa):b.detachEvent&&b.detachEvent(jc(c),d);ec--;(c=hc(b))?(Tb(c,a),0==c.b&&(c.src=null,b[cc]=null)):Qb(a)}}}function jc(a){return a in dc?dc[a]:dc[a]="on"+a}function nc(a,b,c,d){var e=!0;if(a=hc(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Fa==c&&!f.qa&&(f=oc(f,d),e=e&&!1!==f)}return e}
function oc(a,b){var c=a.listener,d=a.Ma||a.src;a.Ea&&mc(a);return c.call(d,b)}
function kc(a,b){if(a.qa)return!0;if(!Wb){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new H(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(n){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.b&&0<=h;h--){c.currentTarget=e[h];var k=nc(e[h],f,!0,c),d=d&&k}for(h=0;!c.b&&h<e.length;h++)c.currentTarget=
e[h],k=nc(e[h],f,!1,c),d=d&&k}return d}return oc(a,new H(b,this))}function hc(a){a=a[cc];return a instanceof Rb?a:null}var pc="__closure_events_fn_"+(1E9*Math.random()>>>0);function fc(a){if("function"==ca(a))return a;a[pc]||(a[pc]=function(b){return a.handleEvent(b)});return a[pc]};function K(){Yb.call(this);this.f=new Rb(this);this.ub=this;this.Ba=null}r(K,Yb);K.prototype[Mb]=!0;g=K.prototype;g.cb=function(a){this.Ba=a};g.removeEventListener=function(a,b,c,d){J(this,a,b,c,d)};
function L(a,b){var c,d=a.Ba;if(d)for(c=[];d;d=d.Ba)c.push(d);var d=a.ub,e=b,f=e.type||e;if(q(e))e=new G(e,d);else if(e instanceof G)e.target=e.target||d;else{var h=e,e=new G(f,d);Aa(e,h)}var h=!0,k;if(c)for(var n=c.length-1;!e.b&&0<=n;n--)k=e.currentTarget=c[n],h=qc(k,f,!0,e)&&h;e.b||(k=e.currentTarget=d,h=qc(k,f,!0,e)&&h,e.b||(h=qc(k,f,!1,e)&&h));if(c)for(n=0;!e.b&&n<c.length;n++)k=e.currentTarget=c[n],h=qc(k,f,!1,e)&&h;return h}
g.F=function(){K.m.F.call(this);if(this.f){var a=this.f,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Qb(d[e]);delete a.a[c];a.b--}}this.Ba=null};g.L=function(a,b,c,d){return this.f.add(String(a),b,!1,c,d)};g.Oa=function(a,b,c,d){var e;e=this.f;a=String(a).toString();if(a in e.a){var f=e.a[a];b=Sb(f,b,c,d);-1<b?(Qb(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.a[a],e.b--),e=!0):e=!1}else e=!1;return e};
function qc(a,b,c,d){b=a.f.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.qa&&h.Fa==c){var k=h.listener,n=h.Ma||h.src;h.Ea&&Tb(a.f,h);e=!1!==k.call(n,d)&&e}}return e&&0!=d.pb};function rc(a,b){if("function"==ca(a))b&&(a=ka(a,b));else if(a&&"function"==typeof a.handleEvent)a=ka(a.handleEvent,a);else throw Error("Invalid listener argument");2147483647<Number(0)||l.setTimeout(a,0)};function M(a){Yb.call(this);this.b=a;this.a={}}r(M,Yb);var sc=[];M.prototype.L=function(a,b,c,d){p(b)||(b&&(sc[0]=b.toString()),b=sc);for(var e=0;e<b.length;e++){var f=I(a,b[e],c||this.handleEvent,d||!1,this.b||this);if(!f)break;this.a[f.key]=f}return this};
M.prototype.Oa=function(a,b,c,d,e){if(p(b))for(var f=0;f<b.length;f++)this.Oa(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.b||this,c=fc(c),d=!!d,b=Nb(a)?Ub(a.f,String(b),c,d,e):a?(a=hc(a))?Ub(a,b,c,d,e):null:null,b&&(mc(b),delete this.a[b.key]);return this};function tc(a){ya(a.a,function(a,c){this.a.hasOwnProperty(c)&&mc(a)},a);a.a={}}M.prototype.F=function(){M.m.F.call(this);tc(this)};M.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function uc(){}uc.b=function(){return uc.a?uc.a:uc.a=new uc};uc.prototype.a=0;function vc(a){K.call(this);this.a=a||jb();this.Aa=null;this.W=!1;this.c=null;this.g=void 0;this.la=this.za=this.s=null}r(vc,K);g=vc.prototype;g.kb=uc.b();g.j=function(){return this.c};function wc(a){a.g||(a.g=new M(a));return a.g}g.cb=function(a){if(this.s&&this.s!=a)throw Error("Method not supported");vc.m.cb.call(this,a)};g.wa=function(){this.c=this.a.a.createElement("DIV")};
function xc(a){if(a.W)throw Error("Component already rendered");a.c||a.wa();a.a.a.body.appendChild(a.c);a.s&&!a.s.W||a.pa()}g.pa=function(){this.W=!0;yc(this,function(a){!a.W&&a.j()&&a.pa()})};g.ga=function(){yc(this,function(a){a.W&&a.ga()});this.g&&tc(this.g);this.W=!1};g.F=function(){this.W&&this.ga();this.g&&(this.g.ua(),delete this.g);yc(this,function(a){a.ua()});this.c&&C(this.c);this.s=this.c=this.la=this.za=null;vc.m.F.call(this)};function yc(a,b){a.za&&Ca(a.za,b,void 0)}
g.removeChild=function(a,b){if(a){var c=q(a)?a:a.Aa||(a.Aa=":"+(a.kb.a++).toString(36)),d;this.la&&c?(d=this.la,d=(null!==d&&c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){d=this.la;c in d&&delete d[c];Ea(this.za,a);b&&(a.ga(),a.c&&C(a.c));c=a;if(null==c)throw Error("Unable to set parent component");c.s=null;vc.m.cb.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};if(v)try{Xa(document.namespaces)}catch(a){};var N;function zc(a,b,c,d,e){this.b=this.c=0;this.a=null;this.M=1;this.S=d;this.T=e}g=zc.prototype;g.rotate=function(a){this.a.rotate(a*Math.PI/180)};g.scale=function(a,b){this.a.scale(a,b)};g.translate=function(a,b){this.S+=a;this.T+=b};g.Na=function(a){a[0]-=this.S;a[1]-=this.T;a[0]=Math.round(a[0]/this.M);a[1]=Math.round(a[1]/this.M);return a};g.bb=function(a){a[0]=Math.round(a[0]/this.M);a[1]=Math.round(a[1]/this.M);return a};function Ac(a,b){this.na=[];this.b=b;this.a=0;this.oa=[];this.Pa=0}Ac.prototype.getName=function(){return this.b};Ac.prototype.Da=function(a){"LIGHT"===a.da&&(this.a++,a.Qa=parseInt(this.a,10));this.oa.push(a);return this.oa.length-1};function O(){this.i=null;this.b=y("component-configuration")}
O.prototype.X=function(a){P(y("canvas-wrapper"),"active-component-panel");this.b.innerHTML='<label id="com-position">'+N["com-position"]+'</label><div class="input-field"><span class="com-left-side">X: </span><span class="com-right-side"><input type="text" name="com-pos-x" class="input-min" id="com-pos-x" value="'+this.i.I+'"> cm</span></div><div class="input-field"><span class="com-left-side">Y: </span><span class="com-right-side"><input type="text" name="com-pos-y" class="input-min" id="com-pos-y"  value="'+this.i.J+
'"> cm</span></div><label id="com-rotation">'+N["com-rotation"]+'</label><div class="input-field"><span class="com-left-side">XY: </span><span class="com-right-side"><input type="text" name="com-rotate" class="input-min" id="com-rotate" value="'+180/Math.PI*this.i.o+'">\u00b0</span></div>';this.a(a)};
O.prototype.a=function(a){I(y("com-pos-x"),"keyup",function(b){var c=this.i;c.I=b.target.value;Q(c);R(a)},!0,this);I(y("com-pos-y"),"keyup",function(b){var c=this.i;c.J=b.target.value;Q(c);R(a)},!0,this);I(y("com-rotate"),"keyup",function(b){var c=this.i;c.o=b.target.value%360*(Math.PI/180);Q(c);R(a)},!0,this)};function Bc(){O.call(this)}r(Bc,O);Bc.prototype.X=function(a){this.b.style.display="block";P(y("canvas-wrapper"),"active-component-panel");this.a(a)};Bc.prototype.a=function(){};function S(a,b){this.I=a;this.J=b;this.o=0;this.A=!1;this.b=[];this.c=[];this.a=[];this.ca();Q(this)}function Cc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);a[0]/=b;a[1]/=b;return a}function T(a,b){var c=[],d=[];d[0]=b[0]-a.I;d[1]=b[1]-a.J;c[0]=d[0]*Math.cos(a.o)+d[1]*Math.sin(a.o);c[1]=d[0]*-Math.sin(a.o)+d[1]*Math.cos(a.o);return c}
function Q(a){var b;a.a=[];for(var c=0;c<a.c.length;c++)b=[],b[0]=a.c[c][0]*Math.cos(a.o)-a.c[c][1]*Math.sin(a.o),b[1]=a.c[c][0]*Math.sin(a.o)+a.c[c][1]*Math.cos(a.o),b[0]+=a.I,b[1]+=a.J,a.a.push(b)}function Dc(a,b){var c;c=[];c[0]=b[0]*Math.cos(a.o)-b[1]*Math.sin(a.o);c[1]=b[0]*Math.sin(a.o)+b[1]*Math.cos(a.o);c[0]+=a.I;c[1]+=a.J;return c};function Ec(a,b){this.da="SPLITTER";this.g=0;S.call(this,a,b)}r(Ec,S);g=Ec.prototype;g.ca=function(){var a;a=0-Math.floor(50);this.c.push([0,a,0]);this.c.push([0,a+100,0])};
g.ia=function(a){var b,c,d,e,f,h=Infinity;d=this.a[0];b=this.a[1];e=[a[0]-d[0],a[1]-d[1]];d=[b[0]-d[0],b[1]-d[1]];f=[-a[4],a[3]];b=d[0]*e[1]-e[0]*d[1];c=d[0]*f[0]+d[1]*f[1];d=b/c;if(0>d)return h;b=e[0]*f[0]+e[1]*f[1];e=b/c;if(0>e||1<e)return h;e=Math.round(a[0]+a[3]*d);d=Math.round(a[1]+a[4]*d);if(e==a[0]&&d==a[1])return h;h=Math.sqrt(Math.pow(Math.abs(e-a[0]),2)+Math.pow(Math.abs(d-a[1]),2));if(3>h)return Infinity;this.f=a.slice();this.b=[e,d];return this.g=h};
g.xa=function(a){var b=[],c=T(this,[this.f[0],this.f[1]]);c[1]=-1*c[1]+2*T(this,[this.b[0],this.b[1]])[1];c=Dc(this,c);b[0]=c[0]-this.b[0];b[1]=c[1]-this.b[1];b=Cc(b);a.push([this.b[0],this.b[1],0,b[0],b[1],0,this.f[6],this.f[7]+this.g]);this.f[0]=this.b[0];this.f[1]=this.b[1];a.push(this.f);return this.b};g.V=function(a){a.beginPath();a.lineWidth=3;a.moveTo(this.a[0][0],this.a[0][1]);a.lineTo(this.a[1][0],this.a[1][1]);a.stroke();this.A&&(a.lineWidth=5);a.stroke();a.lineWidth=1};
g.ya=function(a,b){var c=T(this,[a,b]),d=-Math.floor(50),e=Math.floor(50);return-3<=c[0]&&3>=c[0]&&c[1]>=d&&c[1]<=e?this.A=!0:this.A=!1};g.ta=function(){return new Ec(this.I,this.J)};function Fc(){O.call(this)}r(Fc,O);Fc.prototype.X=function(a){this.b.style.display="block";P(y("canvas-wrapper"),"active-component-panel");this.a(a)};Fc.prototype.a=function(){};function Gc(){O.call(this)}r(Gc,O);Gc.prototype.X=function(a){this.b.style.display="block";P(y("canvas-wrapper"),"active-component-panel");this.a(a)};Gc.prototype.a=function(){};function Hc(a,b){this.f=50;this.R="BEAM";this.Z=10;this.ma=30;this.da="LIGHT";this.Qa=-1;S.call(this,a,b)}r(Hc,S);g=Hc.prototype;g.jb=function(){return this.f};g.qb=function(a){this.f=parseInt(a,10);this.ca();Q(this)};g.ca=function(){this.c=[];if("CIRCLE"==this.R)this.c.push([0,0,0]);else{var a,b;a=0-Math.floor(this.f/2);this.c.push([a,a,0]);b=a;a+=this.f;this.c.push([a,b,0]);b+=this.f;this.c.push([a,b,0]);a-=this.f;this.c.push([a,b,0])}};
g.ia=function(a){if("BEAM"==this.R){for(var b,c,d,e,f,h=Infinity,k=0;4>k;k++)d=k,e=(k+1)%4,d=this.a[d],b=this.a[e],e=[a[0]-d[0],a[1]-d[1]],d=[b[0]-d[0],b[1]-d[1]],f=[-a[4],a[3]],b=d[0]*e[1]-e[0]*d[1],c=d[0]*f[0]+d[1]*f[1],d=b/c,0>d||(b=e[0]*f[0]+e[1]*f[1],e=b/c,0>e||1<e||(e=a[0]+a[3]*d,d=a[1]+a[3]*d,b=Math.sqrt(Math.pow(Math.abs(e-a[0]),2)+Math.pow(Math.abs(d-a[1]),2)),b<h&&(h=b,this.b=[e,d])));a=3>h?Infinity:h}else a=Infinity;return a};
g.ya=function(a,b){var c=T(this,[a,b]);if("BEAM"==this.R)var d=Math.floor(this.f/2),c=this.A=Math.abs(c[0])<=d&&Math.abs(c[1])<=d;else c=this.A=Math.sqrt(Math.pow(c[0]-this.c[0][0],2)+Math.pow(c[1]-this.c[0][1],2))<=this.f;return c};g.xa=function(){return this.b};
g.V=function(a,b){"BEAM"==this.R?(a.beginPath(),a.moveTo(this.a[0][0],this.a[0][1]),a.lineTo(this.a[1][0],this.a[1][1]),a.lineTo(this.a[2][0],this.a[2][1]),a.lineTo(this.a[3][0],this.a[3][1]),a.lineTo(this.a[0][0],this.a[0][1])):(a.beginPath(),a.arc(this.a[0][0],this.a[0][1],this.f,0,2*Math.PI,!0));this.A?(a.lineWidth=3,a.stroke(),a.lineWidth=1):a.stroke();var c,d,e,f,h,k,n=Math.floor(this.f/2);if("BEAM"==this.R)for(h=Math.floor(this.f/this.Z),c=n,k=0;k<this.Z;k++)d=k*h-n,f=Dc(this,[c,d,0]),e=Dc(this,
[c+1,d,0]),d=e[0]-f[0],e=e[1]-f[1],b([f[0],f[1],0,d,e,0,this.Qa,0]);else if("CIRCLE"==this.R)for(h=Math.floor(2*this.ma/this.Z),k=0;k<this.Z;k++)f=this.ma-k*h,f*=Math.PI/180,c=Math.tan(f)*this.f,f=Dc(this,[0,0,0]),f[2]=0,d=-c,c=this.f,e=Dc(this,[c,d,0]),e[2]=0,d=e[0]-f[0],e=e[1]-f[1],c=Cc([d,e]),b([f[0],f[1],0,c[0],c[1],0,this.Qa,0])};g.fa=function(a,b,c,d,e){this.o=a;this.f=b;this.R=c;this.Z=d;this.ma=e;Q(this)};
g.ta=function(){var a=new Hc(this.I,this.J);a.fa(this.o,this.f,this.R,this.Z,this.ma);return a};function Ic(a,b){this.h=300;this.da="HOLO-PLATE";this.u=this.w=!1;this.g=[];this.v=[];this.s=10;this.l=3;this.D=[];S.call(this,a,b)}r(Ic,S);g=Ic.prototype;g.ca=function(){var a;a=0-Math.floor(this.h/2);this.c.push([0,a,0]);a+=this.h;this.c.push([0,a,0])};g.qb=function(a){this.h=a};
function Jc(a){var b=[],c=[];b[0]=a.f[0]-a.b[0];b[1]=a.f[1]-a.b[1];c[0]=a.a[0][0]-a.b[0];c[1]=a.a[0][1]-a.b[1];a=180/Math.PI*Math.acos((b[0]*c[0]+b[1]*c[1])/(Math.sqrt(b[0]*b[0]+b[1]*b[1])*Math.sqrt(c[0]*c[0]+c[1]*c[1])));return Math.floor(90<a?a%90:90-a)}
g.ia=function(a){var b,c,d,e,f,h=Infinity;d=this.a[0];b=this.a[1];e=[a[0]-d[0],a[1]-d[1]];d=[b[0]-d[0],b[1]-d[1]];f=[-a[4],a[3]];b=d[0]*e[1]-e[0]*d[1];c=d[0]*f[0]+d[1]*f[1];d=b/c;if(0>d)return h;b=e[0]*f[0]+e[1]*f[1];e=b/c;if(0>e||1<e)return h;e=Math.round(a[0]+a[3]*d);d=Math.round(a[1]+a[4]*d);if(e==a[0]&&d==a[1])return h;h=Math.sqrt(Math.pow(Math.abs(e-a[0]),2)+Math.pow(Math.abs(d-a[1]),2));if(3>h)return Infinity;this.f=a.slice();this.b=[e,d];return h};
g.xa=function(a){if(this.w){var b=Math.floor((Math.floor(this.h/2)+T(this,[this.b[0],this.b[1]])[1])/this.s),c=Jc(this);this.f[0]=this.b[0];this.f[1]=this.b[1];if(void 0===this.g[b])this.g[b]={},this.g[b][c]=[this.f];else{var d,e=!1;for(d in this.g[b])if(parseFloat(d)-this.l<c&&c<parseFloat(d)+this.l){this.g[b][d].push(this.f);e=!0;break}e||(this.g[b][c]=[this.f])}}if(this.u){d=!1;var f,b=Math.floor((Math.floor(this.h/2)+T(this,[this.b[0],this.b[1]])[1])/this.s),c=Jc(this);for(f in this.g[b])if(parseFloat(f)-
this.l<c&&c<parseFloat(f)+this.l){c=f;d=!0;break}if(d)for(f in void 0===this.v[b]&&(this.v[b]=[]),this.g[b])if(f!=c&&void 0===this.v[b][f])for(this.v[b][f]=1,d=this.g[b][f],e=0;e<d.length;e++)a.push(d[e].slice())}this.D[this.f[6]]=1;return this.b};g.V=function(a){this.u&&(this.v=[]);this.D={};a.beginPath();a.lineWidth=3;a.moveTo(this.a[0][0],this.a[0][1]);a.lineTo(this.a[1][0],this.a[1][1]);a.stroke();this.A&&(a.lineWidth=5);a.stroke();a.lineWidth=1};
g.ya=function(a,b){var c=T(this,[a,b]),d=-Math.floor(this.h/2),e=Math.floor(this.h/2);return-3<=c[0]&&3>=c[0]&&c[1]>=d&&c[1]<=e?this.A=!0:this.A=!1};g.fa=function(a,b,c,d){this.o=a;this.h=b;this.s=c;this.l=d;Q(this)};g.ta=function(){var a=new Ic(this.I,this.J);a.fa(this.o,this.h,this.s,this.l);return a};function Kc(){O.call(this)}r(Kc,O);
Kc.prototype.X=function(a){Kc.m.X.call(this,a);var b;b="BEAM"==this.i.R?'<select id="com-light-type"><option selected value="BEAM">Beam</option><option value="CIRCLE">Circle</option></select>':'<select id="com-light-type"><option value="BEAM">Beam</option><option selected value="CIRCLE">Circle</option></select>';this.b.innerHTML+='<label id="com-dimensions">'+N["com-dimensions"]+'</label><div class="input-field"><span class="com-left-side">A: </span><span class="com-right-side"><input type="text" name="com-size" class="input-min" id="com-size" value="'+this.i.jb()+
'"> cm</span></div><label id="com-dimensions">'+N["com-light"]+'</label><div class="input-field"><span class="com-left-side">Light type: </span><span class="com-right-side">'+b+'</span></div><div class="input-field"><span class="com-left-side">Rays count: </span><span class="com-right-side"><input type="text" name="com-rays-count" class="input-min" id="com-rays-count" value="'+this.i.Z+'"></span></div><div class="input-field"><span class="com-left-side">Radius: </span><span class="com-right-side"><input type="text" name="com-radius" class="input-min" id="com-radius" value="'+
this.i.ma+'">\u00b0</span></div>';this.a(a)};Kc.prototype.a=function(a){Kc.m.a.call(this,a);I(y("com-size"),"keyup",function(b){this.i.qb(b.target.value);R(a)},!0,this);I(y("com-rays-count"),"keyup",function(b){this.i.Z=parseInt(b.target.value,10);R(a)},!0,this);I(y("com-radius"),"keyup",function(b){this.i.ma=parseFloat(b.target.value);R(a)},!0,this);I(y("com-light-type"),"change",function(b){var c=this.i;c.R=b.target.value;c.ca();Q(c);R(a)},!0,this)};function Lc(){O.call(this)}r(Lc,O);
Lc.prototype.X=function(a){this.b.style.display="block";P(y("canvas-wrapper"),"active-component-panel");this.b.innerHTML='<label id="com-position">'+N["com-position"]+'</label><div class="input-field">X: <input type="text" name="com-height" class="input-min" id="com-height" value="'+this.i.I+'"> cm</div><div class="input-field">Y: <input type="text" name="com-height" class="input-min" id="com-height"  value="'+this.i.J+'"> cm</div><div id="component-buttons"><button id="com-record-btn">Record</button></div>';this.a(a)};
Lc.prototype.a=function(a){I(y("com-record-btn"),"click",function(){var b=this.i;b.g=[];b.v=[];b.w=!0;b.u=!1;R(a);b=this.i;b.w=!1;b.u=!0;R(a)},!0,this)};function Mc(a,b){this.h=300;this.da="LENS";this.l="UNITE";this.g=100;S.call(this,a,b)}r(Mc,S);g=Mc.prototype;g.ca=function(){var a;a=0-Math.floor(this.h/2);this.c.push([0,a,0]);a+=this.h;this.c.push([0,a,0]);this.c.push([-this.g,0,0]);this.c.push([this.g,0,0])};
g.ia=function(a){var b,c,d,e,f,h=Infinity;d=this.a[0];b=this.a[1];e=[a[0]-d[0],a[1]-d[1]];d=[b[0]-d[0],b[1]-d[1]];f=[-a[4],a[3]];b=d[0]*e[1]-e[0]*d[1];c=d[0]*f[0]+d[1]*f[1];d=b/c;if(0>d)return h;b=e[0]*f[0]+e[1]*f[1];e=b/c;if(0>e||1<e)return h;e=Math.round(a[0]+a[3]*d);d=Math.round(a[1]+a[4]*d);if(e==a[0]&&d==a[1])return h;h=Math.sqrt(Math.pow(Math.abs(e-a[0]),2)+Math.pow(Math.abs(d-a[1]),2));if(3>h)return Infinity;this.f=a.slice();this.b=[e,d];return h};
function Nc(a,b,c){b=Math.round(1/(1/b-1/Math.abs(c[0])));var d=Math.round(-b/Math.abs(c[0])*Math.abs(c[1]));b=0>c[0]?b:-b;d=0>c[1]?-d:d;return Dc(a,[b,d])}
g.xa=function(a){var b=T(this,[this.f[0],this.f[1]]),c=[],d=[];"UNITE"==this.l?(d=Nc(this,this.g,b),Math.abs(b[0])<this.g?(c[0]=this.b[0]-d[0],c[1]=this.b[1]-d[1]):(c[0]=d[0]-this.b[0],c[1]=d[1]-this.b[1])):(d=Nc(this,-this.g,b),c[0]=this.b[0]-d[0],c[1]=this.b[1]-d[1]);d=Cc(c);this.f[0]=this.b[0];this.f[1]=this.b[1];this.f[3]=d[0];this.f[4]=d[1];a.push(this.f);return this.b};
g.V=function(a){a.beginPath();a.lineWidth=3;a.moveTo(this.a[0][0],this.a[0][1]);a.lineTo(this.a[1][0],this.a[1][1]);a.stroke();this.A&&(a.lineWidth=5);a.stroke();a.lineWidth=1};g.ya=function(a,b){var c=T(this,[a,b]),d=-Math.floor(this.h/2),e=Math.floor(this.h/2);return-5<=c[0]&&5>=c[0]&&c[1]>=d&&c[1]<=e?this.A=!0:this.A=!1};g.fa=function(a,b,c,d){this.o=a;this.h=b;this.l=c;this.g=d;Q(this)};g.ta=function(){var a=new Mc(this.I,this.J);a.fa(this.o,this.h,this.l,this.g);return a};function Oc(a,b){S.call(this,a,b);this.da="MIRROR"}r(Oc,S);function Pc(a,b){this.f=10;this.g=300;this.da="WALL";S.call(this,a,b)}r(Pc,S);g=Pc.prototype;g.ca=function(){var a,b;a=0-Math.floor(this.f/2);b=0-Math.floor(this.g/2);this.c.push([a,b,0]);a+=this.f;this.c.push([a,b,0]);b+=this.g;this.c.push([a,b,0]);a-=this.f;this.c.push([a,b,0])};
g.ia=function(a){for(var b,c,d,e,f,h=Infinity,k=0;4>k;k++)d=k,e=(k+1)%4,d=this.a[d],b=this.a[e],e=[a[0]-d[0],a[1]-d[1]],d=[b[0]-d[0],b[1]-d[1]],f=[-a[4],a[3]],b=d[0]*e[1]-e[0]*d[1],c=d[0]*f[0]+d[1]*f[1],d=b/c,0>d||(b=e[0]*f[0]+e[1]*f[1],e=b/c,0>e||1<e||(e=a[0]+a[3]*d,d=a[1]+a[4]*d,b=Math.sqrt(Math.pow(Math.abs(e-a[0]),2)+Math.pow(Math.abs(d-a[1]),2)),b<h&&(h=b,this.b=[e,d])));return h};g.xa=function(){return this.b};
g.V=function(a){a.beginPath();a.moveTo(this.a[0][0],this.a[0][1]);a.lineTo(this.a[1][0],this.a[1][1]);a.lineTo(this.a[2][0],this.a[2][1]);a.lineTo(this.a[3][0],this.a[3][1]);a.lineTo(this.a[0][0],this.a[0][1]);a.stroke();this.A?(a.lineWidth=3,a.stroke(),a.lineWidth=1):a.stroke()};g.ya=function(a,b){var c=T(this,[a,b]),d=-Math.floor(this.g/2),e=Math.floor(this.f/2),f=Math.floor(this.g/2);return c[0]>=-Math.floor(this.f/2)&&c[0]<=e&&c[1]>=d&&c[1]<=f?this.A=!0:this.A=!1};
g.fa=function(a,b,c){this.o=a;this.f=b;this.g=c;Q(this)};g.ta=function(){var a=new Pc(this.I,this.J);a.fa(this.o,this.f,this.g);return a};function Qc(){O.call(this)}r(Qc,O);Qc.prototype.X=function(a){this.b.style.display="block";P(y("canvas-wrapper"),"active-component-panel");this.b.innerHTML='<label id="com-position">'+N["com-position"]+'</label><div class="input-field">X: <input type="text" name="com-height" class="input-min" id="com-height" value="'+this.i.I+'"> cm</div><div class="input-field">Y: <input type="text" name="com-height" class="input-min" id="com-height"  value="'+this.i.J+'"> cm</div>';this.a(a)};Qc.prototype.a=function(){};function Rc(){this.b=4;this.Ca=!1;this.B=null;this.ea=[];this.a=[];this.h=[];this.c=y("cm-box").clientWidth}g=Rc.prototype;
g.sa=function(a){I(a,"mousemove",this.Eb,!1,this);I(a,"mousedown",function(b){this.Ca&&(this.h=[b.offsetX,b.offsetY],I(a,"mousemove",this.gb,!0,this))},!1,this);I(a,"mouseup",function(){this.Ca&&(this.Ca=!1,J(a,"mousemove",this.gb,!0,this))},!1,this);I(ob("zoom",a),"click",function(a){"zoom-in"===a.target.className?(a=this.B,a.M+=.1):(a=this.B,.4<a.M&&(a.M-=.1));this.V()},!1,this);I(ob("move-control",a),"click",function(a){switch(a.target.className){case "wide-top-move-control":a=this.B;a.T-=10;break;
case "left-side-move-control":a=this.B;a.S-=10;break;case "right-side-move-control":a=this.B;a.S+=10;break;case "wide-bottom-move-control":a=this.B,a.T+=10}this.V()},!1,this)};g.Eb=function(a){xb(a.currentTarget.childNodes[1],"x: "+((a.offsetX-this.B.S)/this.c).toFixed(2)+" cm, y: "+((a.offsetY-this.B.T)/this.c).toFixed(2)+" cm, zoom: "+Math.floor(100*this.B.M)+" %")};
g.gb=function(a){var b,c;b=a.offsetX-this.h[0];c=a.offsetY-this.h[1];this.h[0]=a.offsetX;this.h[1]=a.offsetY;this.B.translate(b,c);this.V()};g.Na=function(a){return this.B.Na(a)};g.bb=function(a){return this.B.bb(a)};g.Za=function(){return this.b};g.eb=function(a){this.b=a};g.wb=function(a){this.a.push(a)};
g.V=function(){var a;a=this.B;a.a.setTransform(a.M,0,0,a.M,a.S,a.T);a=a.a;var b,c,d,e,f,h;f=this.wb.bind(this);b=this.B;var k=[];k[2]=b.c+50;k[3]=b.b+50;k[0]=-b.S-50;k[1]=-b.T-50;a.clearRect(k[0],k[1],k[2],k[3]);for(b=0;b<this.ea.length;b++)this.ea[b].V(a,f);a.beginPath();for(var k=!0,n,A=0;k;){n=this.a.length;A++;for(b=0;b<n;b++){d=Infinity;f=this.a.shift();for(c=0;c<this.ea.length;c++)e=this.ea[c].ia(f),e<d&&(d=e,h=c);Infinity!=d&&(c=this.ea[h].xa(this.a),a.moveTo(f[0],f[1]),a.lineTo(c[0],c[1]))}if(0==
this.a.length||A>=this.b)k=!1}this.a=[];a.stroke()};function Sc(a){if(a){this.g=new Rc;this.f=y("canvas-wrapper");this.c=[];this.la=null;this.u=!1;this.b=null;this.s=this.l=!1;this.h=[];this.w=new U;Tc(this.w,N["new-view"]);Uc(this.w,cb('View name: <input type="text" id="new-view-name" name="new-view-name">'));Vc(this.w,Wc());this.N=new U;Tc(this.N,N["edit-view"]);a=new V;W(a,{key:"save",caption:"Save"},!0);W(a,{key:"remove",caption:"Remove view"},!0);W(a,Xc,!1,!0);Vc(this.N,a);this.P=new U;Tc(this.P,N["new-table"]);Uc(this.P,cb('Table name: <input type="text" id="new-table-name" name="new-table-name">'));
this.D=new U;Tc(this.D,N["edit-table"]);a=new V;W(a,{key:"save",caption:"Save"},!0);W(a,{key:"remove",caption:"Remove table"},!0);W(a,Xc,!1,!0);Vc(this.D,a);this.v=new U;Tc(this.v,N["copy-title"]);var b=new Ac(0,"Table 1");this.c.push(b);this.a=0;Yc(this,this.a,"Table 1");a=new zc(0,0,0,0,0);b.na.push(a);b=Zc(this,0,"View 1");a.a=b.getContext("2d");this.sa();$c(this,0,y("button-table-0"))}}function ad(a,b){bd(a.f,"show-cross")||(P(a.f,"show-cross"),a.u=!0,a.la=b)}
function cd(a){var b=Math.max(document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.offsetHeight),c=a.f.clientWidth,d=mb("active-view",y("table-"+a.a)),b=b-184;a.f.style.height=b+"px";for(var b=b/a.c[a.a].Pa,e=0;e<d.length;e++){var f=a.c[a.a].na[e],h=b;f.c=c;f.b=h;d[e].style.height=b+"px";d[e].style.width=c+"px";d[e].firstChild.height=b;d[e].firstChild.width=c}}
function $c(a,b,c){try{X(y("button-table-"+a.a),"active-table");P(c,"active-table");var d=y("table-"+b);X(y("table-"+a.a),"active-table");P(d,"active-table");var e=y("table-"+b+"-views");X(y("table-"+a.a+"-views"),"active-table");P(e,"active-table")}catch(f){}a.a=b}function dd(a,b,c){try{a.c[a.a].Pa++,P(c,"active-view"),P(y("view-"+b),"active-view"),cd(a)}catch(d){}}
function Yc(a,b,c){var d=z("div",{id:"table-"+b,"class":"table-wrapper"}),e=y("views");B(y("tables"),z("div",{"class":"button-table",id:"button-table-"+b},c));B(e,z("div",{id:"table-"+b+"-views"},""));B(a.f,d)}
function Zc(a,b,c){var d="canvas-"+a.a+"-"+b,e="button-view-"+a.a+"-"+b,f=y("table-"+a.a),h=z("div",{id:"view-"+a.a+"-"+b,"class":"view-wrapper active-view"}),d=z("canvas",{id:d}),k=y("table-"+a.a+"-views"),n=z("div",{"class":"mouse-coordinates"},"x: 0 cm, y: 0 cm, zoom: 100%"),A=z("div",{"class":"zoom-in"},"+"),E=z("div",{"class":"zoom-out"},"-"),A=z("div",{"class":"zoom"},A,E),E=z("div",{"class":"wide-top-move-control"},String.fromCharCode(8673)),aa=z("div",{"class":"right-side-move-control"},String.fromCharCode(8674)),
Id=z("div",{"class":"left-side-move-control"},String.fromCharCode(8672)),Jd=z("div",{"class":"wide-bottom-move-control"},String.fromCharCode(8675)),E=z("div",{"class":"move-control"},E,aa,Id,Jd);c=z("div",{"class":"button-view",id:e},c);B(k,c);B(h,d);B(h,n);B(h,A);B(h,E);B(f,h);dd(a,a.a+"-"+b,c);a.g.sa(h);cd(a);I(h,["mouseenter","mousedown"],function(a){var b=a.target.id.split("-");"view"==b[0]&&(a=parseInt(b[1],10),b=parseInt(b[2],10),this.g.ea=this.c[a].oa,this.g.B=this.c[a].na[b])},!0,a);return d}
function ed(a){var b=y("edit-view-name");ed(a.c[a.a]);var b=b.name,c=y(b);J(c,"mouseenter",null);J(c,"mousedown",null);C(c);b=b.replace("button-","");C(y(b));b=mb("button-view");for(c=0;c<b.length;c++){var d=b[c].id.replace("button-view-",""),e=a.a+"-"+c,f=y("view-"+d),d=y("canvas-"+d);b[c].id="button-view-"+e;f.id="view-"+e;d.id="canvas-"+e}}g=Sc.prototype;
g.ia=function(a){a=this.g.Na([a.offsetX,a.offsetY]);for(var b=this.c[this.a].oa,c=0;c<b.length;c++)if(b[c].ya(a[0],a[1])){a=b[c];switch(a.da){case "MIRROR":this.b=new Bc;break;case "LENS":this.b=new Fc;break;case "HOLO-PLATE":this.b=new Lc;break;case "WALL":this.b=new Qc;break;case "SPLITTER":this.b=new Gc;break;case "LIGHT":this.b=new Kc}this.b.i=a;return!0}return!1};
g.Va=function(a){var b,c;b=a.offsetX-this.h[0];c=a.offsetY-this.h[1];this.h[0]=a.offsetX;this.h[1]=a.offsetY;a=this.g.bb([b,c]);this.s=!0;b=this.b.i;c=a[1];b.I+=a[0];b.J+=c;Q(b);R(this)};
g.sa=function(){var a=this.w,b=this.P,c=this.N,d=this.D;I(b,fd,function(a){"ok"==a.key&&(a=y("new-table-name"),Yc(this,this.c.length,a.value),this.c.push(new Ac(0,a.value)))},!1,this);I(y("add-new-table"),"click",function(){b.H(!0)});I(d,fd,function(a){if("save"==a.key)a=y("edit-table-name"),y(a.name).innerText=a.value;else if("remove"==a.key){a=y("edit-table-name").name;C(y(a));a=a.replace("button-","");C(y(a));a=mb("button-table");for(var b=0;b<a.length;b++){var c=a[b].id.replace("button-table-",
""),d=this.a+"-"+b,c=y("table-"+c);a[b].id="button-table-"+d;c.id="table-"+d}}},!1,this);I(y("tables"),"dblclick",function(a){Uc(d,fb('Edit name: <input type="text" id="edit-table-name" name="'+a.target.id+'" value="'+a.target.innerText+'">'));d.H(!0)});I(a,fd,function(a){if("ok"==a.key){var b=this.c[this.a].na.length,c=y("new-view-name");a=new zc(0,0,0,0,0);this.c[this.a].na.push(a);b=Zc(this,b,c.value);a.a=b.getContext("2d");R(this)}},!1,this);I(y("add-new-view"),"click",function(){a.H(!0)});I(c,
fd,function(a){"save"==a.key?(a=y("edit-view-name"),y(a.name).innerText=a.value):"remove"==a.key&&ed(this)},!1,this);I(y("views"),"dblclick",function(a){Uc(c,fb('Edit name: <input type="text" id="edit-view-name" name="'+a.target.id+'" value="'+a.target.innerText+'">'));c.H(!0)},!1,this);I(y("tables"),"click",function(a){this.Ra();var b=a.target.id.replace("button-table-","");bd(a.target,"active-table")||$c(this,b,a.target)},!1,this);I(y("views"),"click",function(a){var b=a.target.id.replace("button-view-",
"");if(bd(a.target,"active-view")){a=a.target;try{this.c[this.a].Pa--,X(a,"active-view"),X(y("view-"+b),"active-view"),cd(this)}catch(c){}}else dd(this,b,a.target);R(this)},!1,this);I(this.f,"mousedown",function(a){this.u?this.Da(a.offsetX,a.offsetY):this.ia(a)?(this.l=!0,this.h=[a.offsetX,a.offsetY],I(this.f,"mousemove",this.Va,!0,this)):this.g.Ca=!0},!0,this);I(window,"resize",function(){cd(this);R(this)},!1,this);I(this.f,"mouseup",function(){this.u?(this.u=!1,X(this.f,"show-cross")):this.l&&this.s?
(this.s=this.l=!1,this.b.i.A=!1,R(this),J(this.f,"mousemove",this.Va,!0,this)):this.l&&!this.s&&(this.l=!1,this.b.i.A=!1,this.b.X(this),J(this.f,"mousemove",this.Va,!0,this))},!0,this);I(y("com-close-btn"),"click",this.Ra,!1,this);I(y("com-delete-btn"),"click",function(){this.b.i=null;this.c[this.a].oa.splice(void 0,1);this.Ra();R(this)},!1,this);I(y("com-copy-btn"),"click",function(){for(var a=new V,b=[],c,d=0;d<this.c.length;d++)d!==this.a&&(c={},c.id=d,c.name=this.c[d].getName(),b.push(c));c="";
if(0<b.length){W(a,{key:"copy",caption:"Copy"},!0);for(d=0;d<b.length;d++)c+='<option value="'+b[d].id+'">'+b[d].name+"</option>";b="<select id='copy-to-table'>"+c+"</select>"}else b=N["copy-no-tables"];W(a,{key:"close",caption:"Close"},!0);Vc(this.v,a);Uc(this.v,fb(b));this.v.H(!0)},!1,this);I(this.v,fd,function(a){"copy"==a.key&&(a=y("copy-to-table"),this.c[a.options[a.selectedIndex].value].Da(this.b.i.ta()))},!1,this)};
g.Ra=function(){X(this.f,"active-component-panel");y("component-configuration").innerHTML=""};g.Za=function(){return this.g.Za()};g.eb=function(a){this.g.eb(a);R(this)};function R(a){var b=a.c[a.a].na;a.g.ea=a.c[a.a].oa;for(var c=0;c<b.length;c++)a.g.B=b[c],a.g.V()}
g.Da=function(a,b){var c=null,d=this.g.Na([a,b]);switch(this.la){case "MIRROR":this.b=new Bc;c=new Oc(d[0],d[1]);break;case "LENS":this.b=new Fc;c=new Mc(d[0],d[1]);break;case "HOLO-PLATE":this.b=new Lc;c=new Ic(d[0],d[1]);break;case "WALL":this.b=new Qc;c=new Pc(d[0],d[1]);break;case "SPLITTER":this.b=new Gc;c=new Ec(d[0],d[1]);break;case "LIGHT":this.b=new Kc,c=new Hc(d[0],d[1])}this.c[this.a].Da(c);this.b.i=c;this.b.X(this);R(this)};var gd={cs_CZ:{"logo-msg":"Simul\u00e1tor difraktivn\u00ed optiky","simulation-menu-msg":"Simulace","settings-menu-msg":"Nastaven\u00ed","save-menu-msg":"Ulo\u017eit simulaci","export-menu-msg":"Exportovat simulaci","reset-menu-msg":"Za\u010d\u00edt znovu","components-menu-msg":"Komponenty","help-menu-msg":"N\u00e1pov\u011bda","reflections-count":"Po\u010det odraz\u016f",languages:"Jazyk","lang-cs-cz":"\u010ce\u0161tina","lang-en-us":"Angli\u010dtina","new-table":"Nov\u00e1 tabulka","new-view":"Nov\u00fd pohled",
"edit-table":"Upravit tabulku","edit-view":"Upravit pohled","help-title":"Pomoc","copy-title":"Kop\u00edrovat komponentu","copy-no-tables":"\u017d\u00e1dn\u00e9 stoly nejsou k dispozici.","com-conf-header":"Konfigurace komponenty","com-position":"Pozice:","com-rotation":"Rotace:","com-dimensions":"Rozm\u011bry:","com-light":"Sv\u011btlo:","com-copy-btn":"Kop\u00edrovat","com-delete-btn":"Smazat","com-close-btn":"Zav\u0159\u00edt"},en_US:{"logo-msg":"Diffractive optics simulator","simulation-menu-msg":"Simulation",
"settings-menu-msg":"Settings","save-menu-msg":"Save simulation","export-menu-msg":"Export simulation","reset-menu-msg":"Reset simulation","components-menu-msg":"Components","help-menu-msg":"Help","reflections-count":"Count of reflections",languages:"Language","lang-cs-cz":"Czech","lang-en-us":"English","new-table":"New table","new-view":"New view","edit-table":"Edit table","edit-view":"Edit view","help-title":"Help","copy-title":"Copy component","copy-no-tables":"No tables are available.","com-conf-header":"Component configuration",
"com-position":"Position:","com-rotation":"Rotation:","com-dimensions":"Dimensions:","com-light":"Light:","com-copy-btn":"Copy","com-delete-btn":"Delete","com-close-btn":"Close"}};function hd(a,b,c){K.call(this);this.target=a;this.u=b||a;this.s=c||new Wa(NaN,NaN,NaN,NaN);this.h=lb(a);this.a=new M(this);a=la(ac,this.a);this.v?a.call(void 0):(this.l||(this.l=[]),this.l.push(m(void 0)?ka(a,void 0):a));this.g=this.c=this.N=this.D=this.clientY=this.clientX=0;this.b=!1;I(this.u,["touchstart","mousedown"],this.rb,!1,this)}r(hd,K);var id=l.document&&l.document.documentElement&&!!l.document.documentElement.setCapture;g=hd.prototype;
g.F=function(){hd.m.F.call(this);J(this.u,["touchstart","mousedown"],this.rb,!1,this);tc(this.a);id&&this.h.releaseCapture();this.u=this.target=null};
g.rb=function(a){var b="mousedown"==a.type;if(this.b||b&&(!(Vb?0==a.a.button:"click"==a.type||a.a.button&bc[0])||w&&Ma&&a.f))L(this,"earlycancel");else if(L(this,new jd("start",this,a.clientX,a.clientY))){this.b=!0;a.preventDefault();var b=this.h,c=b.documentElement,d=!id;this.a.L(b,["touchmove","mousemove"],this.xb,d);this.a.L(b,["touchend","mouseup"],this.Ha,d);id?(c.setCapture(!1),this.a.L(c,"losecapture",this.Ha)):this.a.L(sb(b),"blur",this.Ha);this.P&&this.a.L(this.P,"scroll",this.Bb,d);this.clientX=
this.D=a.clientX;this.clientY=this.N=a.clientY;this.c=this.target.offsetLeft;this.g=this.target.offsetTop;this.w=yb(jb(this.h))}};g.Ha=function(a){tc(this.a);id&&this.h.releaseCapture();this.b?(this.b=!1,L(this,new jd("end",this,a.clientX,a.clientY,0,kd(this,this.c),ld(this,this.g)))):L(this,"earlycancel")};
g.xb=function(a){var b=1*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;if(!this.b){var d=this.D-this.clientX,e=this.N-this.clientY;if(0<d*d+e*e)if(L(this,new jd("start",this,a.clientX,a.clientY)))this.b=!0;else{this.v||this.Ha(a);return}}c=md(this,b,c);b=c.x;c=c.y;this.b&&L(this,new jd("beforedrag",this,a.clientX,a.clientY,0,b,c))&&(nd(this,a,b,c),a.preventDefault())};
function md(a,b,c){var d=yb(jb(a.h));b+=d.x-a.w.x;c+=d.y-a.w.y;a.w=d;a.c+=b;a.g+=c;return new t(kd(a,a.c),ld(a,a.g))}g.Bb=function(a){var b=md(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;nd(this,a,b.x,b.y)};function nd(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";L(a,new jd("drag",a,b.clientX,b.clientY,0,c,d))}function kd(a,b){var c=a.s,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}
function ld(a,b){var c=a.s,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function jd(a,b,c,d,e,f,h){G.call(this,a);this.clientX=c;this.clientY=d;this.left=m(f)?f:b.c;this.top=m(h)?h:b.g}r(jd,G);var od;function pd(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function qd(a,b,c){p(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(od||(od={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=od,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function rd(a,b){this.c=a;this.b=b};function sd(a){if(a.classList)return a.classList;a=a.className;return q(a)&&a.match(/\S+/g)||[]}function bd(a,b){var c;a.classList?c=a.classList.contains(b):(c=sd(a),c=0<=Ba(c,b));return c}function P(a,b){a.classList?a.classList.add(b):bd(a,b)||(a.className+=0<a.className.length?" "+b:b)}function td(a,b){if(a.classList)Ca(b,function(b){P(a,b)});else{var c={};Ca(sd(a),function(a){c[a]=!0});Ca(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function X(a,b){a.classList?a.classList.remove(b):bd(a,b)&&(a.className=Da(sd(a),function(a){return a!=b}).join(" "))}function ud(a,b){a.classList?Ca(b,function(b){X(a,b)}):a.className=Da(sd(a),function(a){return!(0<=Ba(b,a))}).join(" ")};function vd(a){K.call(this);this.a=a;a=v?"focusout":"blur";this.b=I(this.a,v?"focusin":"focus",this,!v);this.c=I(this.a,a,this,!v)}r(vd,K);vd.prototype.handleEvent=function(a){var b=new H(a.a);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";L(this,b)};vd.prototype.F=function(){vd.m.F.call(this);mc(this.b);mc(this.c);delete this.a};var wd=v?'javascript:""':"about:blank";function Y(a,b){vc.call(this,b);this.vb=!!a;this.u=null}r(Y,vc);g=Y.prototype;g.Ya=null;g.ka=!1;g.K=null;g.C=null;g.O=null;g.Ta=!1;g.Ja=function(){return"goog-modalpopup"};g.Ia=function(){return this.K};
g.wa=function(){Y.m.wa.call(this);var a=this.j(),b=oa(this.Ja()).split(" ");td(a,b);a.tabIndex=0;D(a,!1);this.vb&&!this.C&&(a=this.a,q(void 0)?(gb(),b=Za(void 0).$a()):b="",this.C=a.b("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;"+b,src:wd}),this.C.className=this.Ja()+"-bg",D(this.C,!1),Hb(this.C,0));this.K||(this.K=this.a.b("DIV",this.Ja()+"-bg"),D(this.K,!1));this.O||(this.O=this.a.a.createElement("SPAN"),D(this.O,!1),this.O.tabIndex=0,this.O.style.position="absolute")};
g.ob=function(){this.Ta=!1};g.pa=function(){if(this.C){var a=this.j();a.parentNode&&a.parentNode.insertBefore(this.C,a)}a=this.j();a.parentNode&&a.parentNode.insertBefore(this.K,a);Y.m.pa.call(this);a=this.j();a.parentNode&&a.parentNode.insertBefore(this.O,a.nextSibling);this.Ya=new vd(this.a.a);wc(this).L(this.Ya,"focusin",this.Ab);xd(this,!1)};g.ga=function(){this.ka&&this.H(!1);ac(this.Ya);Y.m.ga.call(this);C(this.C);C(this.K);C(this.O)};
g.H=function(a){if(a!=this.ka)if(this.D&&this.D.stop(),this.P&&this.P.stop(),this.w&&this.w.stop(),this.N&&this.N.stop(),this.W&&xd(this,a),a){if(L(this,"beforeshow")){try{this.u=this.a.a.activeElement}catch(e){}this.ab();var b=sb(this.a.a)||window;if("fixed"==Bb(this.j()))var c=a=0;else c=yb(this.a),a=c.x,c=c.y;var d;d=this.j();d=Fb(d);b=rb(b||window);a=Math.max(a+b.width/2-d.width/2,0);c=Math.max(c+b.height/2-d.height/2,0);Cb(this.j(),a,c);Cb(this.O,a,c);wc(this).L(tb(this.a.a),"resize",this.ab);
yd(this,!0);this.ib();this.ka=!0;this.D&&this.P?(lc(this.D,"end",this.La,!1,this),this.P.play(),this.D.play()):this.La()}}else if(L(this,"beforehide")){wc(this).Oa(tb(this.a.a),"resize",this.ab);this.ka=!1;this.w&&this.N?(lc(this.w,"end",this.Ka,!1,this),this.N.play(),this.w.play()):this.Ka();a:{try{c=this.a;b=c.a.body;d=c.a.activeElement||b;if(!this.u||this.u==b){this.u=null;break a}(d==b||c.contains(this.j(),d))&&this.u.focus()}catch(e){}this.u=null}}};
function xd(a,b){a.fb||(a.fb=new rd(a.c,a.a));var c=a.fb;if(b){c.a||(c.a=[]);for(var d=zb(c.b.a.body),e=0;e<d.length;e++){var f=d[e],h;if(h=f!=c.c)h=f.getAttribute("aria-hidden"),h=!(null==h||void 0==h?0:String(h));h&&(qd(f,"hidden",!0),c.a.push(f))}}else if(c.a){for(e=0;e<c.a.length;e++)c.a[e].removeAttribute("aria-hidden");c.a=null}}function yd(a,b){a.C&&D(a.C,b);a.K&&D(a.K,b);D(a.j(),b);D(a.O,b)}g.La=function(){L(this,"show")};g.Ka=function(){yd(this,!1);L(this,"hide")};
g.ab=function(){this.C&&D(this.C,!1);this.K&&D(this.K,!1);var a=this.a.a,b=rb(sb(a)||window||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.C&&(D(this.C,!0),Eb(this.C,c,a));this.K&&(D(this.K,!0),Eb(this.K,c,a))};g.Ab=function(a){this.Ta?this.ob():a.target==this.O&&rc(this.ib,this)};g.ib=function(){try{v&&this.a.a.body.focus(),this.j().focus()}catch(a){}};
g.F=function(){ac(this.D);this.D=null;ac(this.w);this.w=null;ac(this.P);this.P=null;ac(this.N);this.N=null;Y.m.F.call(this)};function U(a,b,c){Y.call(this,b,c);this.h=a||"modal-dialog";this.b=Wc()}r(U,Y);g=U.prototype;g.mb=!0;g.Sa=.5;g.tb="";g.Wa=null;g.aa=null;g.ra=null;g.ja=null;g.sb=null;g.Y=null;g.Ga=null;g.U=null;g.Ja=function(){return this.h};function Tc(a,b){a.tb=b;a.ja&&xb(a.ja,b)}function Uc(a,b){a.Wa=b;a.Ga&&(a.Ga.innerHTML=bb(b))}g.Ia=function(){this.j()||xc(this);return U.m.Ia.call(this)};
function zd(a,b){var c=oa(a.h+"-title-draggable").split(" ");a.j()&&(b?td(a.ra,c):ud(a.ra,c));if(b&&!a.aa){var d;d=new hd(a.j(),a.ra);a.aa=d;td(a.ra,c);I(a.aa,"start",a.Db,!1,a)}else!b&&a.aa&&(a.aa.ua(),a.aa=null)}
g.wa=function(){U.m.wa.call(this);var a=this.j(),b=this.a;this.ra=b.b("DIV",this.h+"-title",this.ja=b.b("SPAN",{className:this.h+"-title-text",id:this.Aa||(this.Aa=":"+(this.kb.a++).toString(36))},this.tb),this.Y=b.b("SPAN",this.h+"-title-close"));B(a,this.ra,this.Ga=b.b("DIV",this.h+"-content"),this.U=b.b("DIV",this.h+"-buttons"));pd(this.ja,"heading");pd(this.Y,"button");this.Y.tabIndex=0;qd(this.Y,"label",Ad);this.sb=this.ja.id;pd(a,"dialog");qd(a,"labelledby",this.sb||"");this.Wa&&(this.Ga.innerHTML=
bb(this.Wa));D(this.Y,!0);this.b&&(a=this.b,a.ba=this.U,Bd(a));D(this.U,!!this.b);this.Sa=this.Sa;this.j()&&(a=this.Ia())&&Hb(a,this.Sa)};g.pa=function(){U.m.pa.call(this);wc(this).L(this.j(),"keydown",this.nb).L(this.j(),"keypress",this.nb);wc(this).L(this.U,"click",this.zb);zd(this,!0);wc(this).L(this.Y,"click",this.Cb);var a=this.j();pd(a,"dialog");""!==this.ja.id&&qd(a,"labelledby",this.ja.id);if(!this.mb){this.mb=!1;if(this.W){var a=this.a,b=this.Ia();a.c(this.C);a.c(b)}this.ka&&xd(this,!1)}};
g.ga=function(){this.ka&&this.H(!1);zd(this,!1);U.m.ga.call(this)};g.H=function(a){a!=this.ka&&(this.W||xc(this),U.m.H.call(this,a))};g.La=function(){U.m.La.call(this);L(this,Cd)};g.Ka=function(){U.m.Ka.call(this);L(this,Dd)};
g.Db=function(){var a=this.a.a,b=rb(sb(a)||window||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d;d=this.j();d=Fb(d);"fixed"==Bb(this.j())?this.aa.s=new Wa(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height)):this.aa.s=new Wa(0,0,c-d.width,a-d.height)};g.Cb=function(){Ed(this)};function Ed(a){var b=a.b,c=b&&b.Ua;c?L(a,new Fd(c,Kb(b,c)))&&a.H(!1):a.H(!1)}g.F=function(){this.U=this.Y=null;U.m.F.call(this)};
function Vc(a,b){a.b=b;if(a.U){if(a.b){var c=a.b;c.ba=a.U;Bd(c)}else a.U.innerHTML=bb(eb);D(a.U,!!a.b)}}g.zb=function(a){a:{for(a=a.target;null!=a&&a!=this.U;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}a&&!a.disabled&&(a=a.name,L(this,new Fd(a,Kb(this.b,a)))&&this.H(!1))};
g.nb=function(a){var b=!1,c=!1,d=this.b,e=a.target;if("keydown"==a.type)if(27==a.c){var f=d&&d.Ua,e="SELECT"==e.tagName&&!e.disabled;f&&!e?(c=!0,b=L(this,new Fd(f,Kb(d,f)))):e||(b=!0)}else{if(9==a.c&&a.g&&e==this.j()){this.Ta=!0;try{this.O.focus()}catch(E){}rc(this.ob,this)}}else if(13==a.c){if("BUTTON"==e.tagName&&!e.disabled)f=e.name;else if(e==this.Y)Ed(this);else if(d){var h=d.Xa,k;if(k=h)a:{k=d.ba.getElementsByTagName("BUTTON");for(var n=0,A;A=k[n];n++)if(A.name==h||A.id==h){k=A;break a}k=null}e=
("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!k||k.disabled||e||(f=h)}f&&d&&(c=!0,b=L(this,new Fd(f,String(Kb(d,f)))))}else e==this.Y&&32==a.c&&Ed(this);if(b||c)a.stopPropagation(),a.preventDefault();b&&this.H(!1)};function Fd(a,b){this.type=fd;this.key=a;this.caption=b}r(Fd,G);var fd="dialogselect",Dd="afterhide",Cd="aftershow";function V(a){a||jb();F.call(this)}r(V,F);g=V.prototype;g.Xa=null;g.ba=null;g.Ua=null;
g.va=function(a,b,c,d){F.prototype.va.call(this,a,b);c&&(this.Xa=a);d&&(this.Ua=a);return this};function W(a,b,c,d){return a.va(b.key,b.caption,c,d)}function Bd(a){if(a.ba){a.ba.innerHTML=bb(eb);var b=jb(a.ba);a.forEach(function(a,d){var e=b.b("BUTTON",{name:d},a);d==this.Xa&&(e.className="goog-buttonset-default");this.ba.appendChild(e)},a)}}g.j=function(){return this.ba};
var Ad="Close",Gd={key:"ok",caption:"OK"},Xc={key:"cancel",caption:"Cancel"},Hd={key:"yes",caption:"Yes"},Kd={key:"no",caption:"No"},Ld={key:"save",caption:"Save"},Md={key:"continue",caption:"Continue"};function Wc(){return W(W(new V,Gd,!0),Xc,!1,!0)}"undefined"!=typeof document&&(W(new V,Gd,!0,!0),Wc(),W(W(new V,Hd,!0),Kd,!1,!0),W(W(W(new V,Hd),Kd,!0),Xc,!1,!0),W(W(W(new V,Md),Ld),Xc,!0,!0));function Nd(a){this.$=a;this.b=new U;Tc(this.b,N["reflections-count"]);Vc(this.b,Wc());this.a=new U("wide-dialog");Tc(this.a,N["help-title"]);a=new V;W(a,{key:"ok",caption:"Ok"},!0);Vc(this.a,a);this.sa()}
Nd.prototype.sa=function(){var a=this.b,b=nb("li","menu-item",void 0),c;for(c=0;c<b.length;c++)I(b[c],"mouseenter",function(a){var b=wb(a.currentTarget),c;for(c=0;c<b.classList.length;c++)"nested-items"==b.classList[c]&&(b.style.display="block");a.stopPropagation()}),I(b[c],"mouseleave",function(a){var b=wb(a.currentTarget),c;for(c=0;c<b.classList.length;c++)"nested-items"==b.classList[c]&&(b.style.display="none");a.stopPropagation()});I(a,fd,function(a){if("ok"==a.key){var b=y("reflection-count-input");
isNaN(b.value)||1>b.value?(b.style.backgroundColor="red",a.preventDefault()):this.$.eb(b.value)}});I(y("reflections-count"),"click",function(){Uc(a,fb('Insert count: <input type="text" id="reflection-count-input" name="reflection-count-input" value="'+this.$.Za()+'">'));a.H(!0)});I(ob("language-switch"),"click",function(a){"lang-en-us"==a.target.id?Od="en_US":"lang-cs-cz"==a.target.id&&(Od="cs_CZ");Pd()});I(y("logo"),"click",function(){});I(y("logo"),"click",function(){});I(y("logo"),"click",function(){});
I(y("add-mirror"),"click",function(){ad(this.$,"MIRROR")},!1,this);I(y("add-lens"),"click",function(){ad(this.$,"LENS")},!1,this);I(y("add-holo-plate"),"click",function(){ad(this.$,"HOLO-PLATE")},!1,this);I(y("add-wall"),"click",function(){ad(this.$,"WALL")},!1,this);I(y("add-light"),"click",function(){ad(this.$,"LIGHT")},!1,this);I(y("add-splitter"),"click",function(){ad(this.$,"SPLITTER")},!1,this);I(y("help"),"click",function(){Uc(this.a,fb("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc volutpat tincidunt lectus, ut sagittis enim egestas ut. Donec sed luctus odio. Mauris finibus laoreet magna, vitae rhoncus tortor eleifend aliquet. Curabitur mattis pretium mauris. Etiam finibus nunc laoreet magna scelerisque dictum. Integer id viverra lacus. Sed posuere odio tortor, eget scelerisque quam viverra in. Morbi et turpis laoreet, pharetra libero porttitor, convallis nunc. Aliquam erat volutpat. Nam quis varius lectus, vitae tincidunt nisi. Vivamus consectetur consectetur nunc in consectetur. Suspendisse vehicula malesuada volutpat. Donec imperdiet sodales sagittis. Aliquam congue risus sed consequat tincidunt. Quisque ullamcorper ut libero sed rutrum. Sed eu malesuada risus. Nunc eget enim congue, vulputate arcu non, luctus tortor. Morbi porttitor turpis elit, elementum fermentum arcu ullamcorper nec. Nam luctus tincidunt quam ac iaculis. Nulla facilisi. Ut in elit tellus. Morbi at maximus nisl, sit amet laoreet turpis. Proin egestas ullamcorper arcu ac suscipit. Morbi sapien felis, vehicula ut metus a, vehicula luctus dolor. Nullam mollis egestas justo et suscipit. Aliquam erat volutpat. Maecenas vel ex nulla. Vestibulum imperdiet hendrerit ipsum sit amet vulputate. Cras eu turpis vel nisi sodales tempor. Morbi eu neque congue, gravida diam in, auctor lorem. Vivamus ornare, felis ac porta dapibus, lacus enim blandit ex, posuere tempus libero nisl at nisl. Suspendisse potenti. Mauris ornare consectetur ullamcorper. Nam vulputate nunc sed elit luctus, eu accumsan nibh lacinia. Nunc id neque non turpis hendrerit dictum id eu nisi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut congue mattis leo, quis laoreet dolor. Mauris justo felis, maximus et neque ut, elementum malesuada metus. Nunc dapibus efficitur dolor et aliquet. Sed lacus purus, semper quis libero ac, porta lacinia tellus. Aenean enim enim, lacinia id dapibus in, condimentum vel metus. Nunc at auctor justo, quis lobortis massa. Sed a urna id sapien ornare consectetur. Integer porta nisl nulla, vel vestibulum lectus ornare vel. Pellentesque malesuada aliquam porttitor. In fermentum mi sit amet velit facilisis, at fringilla lectus ultricies. Donec porttitor, nunc et bibendum cursus, mi tortor cursus magna, efficitur varius dui tellus non nibh. Suspendisse risus justo, eleifend at fringilla in, volutpat at sem. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Pellentesque vehicula id orci vitae congue. Cras fermentum ullamcorper dolor a bibendum. Praesent at sem pretium, mollis tellus ut, venenatis quam. Ut a facilisis orci, non volutpat est. Praesent metus arcu, iaculis non pellentesque vitae,"));
this.a.H(!0)},!0,this)};var Od="en_US";function Qd(){Pd();var a=new Sc(!0);new Nd(a)}var Rd=["app","start"],Z=l;Rd[0]in Z||!Z.execScript||Z.execScript("var "+Rd[0]);for(var Sd;Rd.length&&(Sd=Rd.shift());)!Rd.length&&m(Qd)?Z[Sd]=Qd:Z[Sd]?Z=Z[Sd]:Z=Z[Sd]={};function Pd(){N=gd[Od];for(var a in N)null!==y(a)&&xb(y(a),N[a])};
